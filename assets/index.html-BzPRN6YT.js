import{_ as l,r as d,o as r,c as n,a as e,d as t,b as o,e as i}from"./app-DMogTwpC.js";const c="/assets/1-BqkirFiY.png",s="/assets/2-BinUwdIO.png",p="/assets/3-CHR66b2I.png",h="/assets/4-BkSQK9EP.png",b={},u=e("h2",{id:"介绍",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#介绍"},[e("span",null,"介绍")])],-1),g=e("p",null,"adb一直都有无线调试的功能。只不过在以前，需要先用usb连接adb成功一次，之后才能用无线。",-1),m=e("p",null,"安卓11及以上，开发者选项里有个无线调试，开启这个之后，第一次也不需要usb连接，直接用无线配对（需要同一网络）即可。",-1),_={href:"https://www.bilibili.com/video/BV1ty4y1d7es/",target:"_blank",rel:"noopener noreferrer"},x=e("h2",{id:"使用方法",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#使用方法"},[e("span",null,"使用方法")])],-1),f={href:"https://developer.android.com/studio/command-line/adb#connect-to-a-device-over-wi-fi",target:"_blank",rel:"noopener noreferrer"},k={href:"https://www.bilibili.com/read/cv15157405",target:"_blank",rel:"noopener noreferrer"},v=e("h3",{id:"termux安装adb",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#termux安装adb"},[e("span",null,"termux安装adb")])],-1),w={href:"https://f-droid.org/en/packages/com.termux/",target:"_blank",rel:"noopener noreferrer"},B=i('<p>安装adb很简单，直接<code>pkg install android-tools</code>即可。</p><h3 id="手机开启无线调试选项" tabindex="-1"><a class="header-anchor" href="#手机开启无线调试选项"><span>手机开启无线调试选项</span></a></h3><p>首先开启手机的开发者选项（如何开启请自行搜索）。 然后进入开发者选项，勾选<code>无线调试</code>，如下图左。注意这个只有安卓11及以上才有。<br> 然后无线调试上面这个<code>快捷设置开发者图块(Quick settings developer tiles)</code>点进去，把无线调试也打开。这样在手机顶部状态栏下滑，第一个就是无线调试的选项了，如下图右。 <img src="'+c+'" alt="1"></p><h3 id="手机与termux中的adb无线配对" tabindex="-1"><a class="header-anchor" href="#手机与termux中的adb无线配对"><span>手机与termux中的adb无线配对</span></a></h3><ol><li><p>点击状态栏中的无线调试，进入后选择<code>使用配对码配对</code>（如下图左），点击后会弹出一个ip和配对码的弹窗（如下图中），这个需要在termux中输入，<strong>但是一旦切出无线调试的窗口弹窗就会消失</strong>，再点开又是另外一个配对码，所以必须用分屏/小窗（如下图右），保证弹窗一直显示着。</p><p><img src="'+s+'" alt="2"></p></li><li><p>termux中输入：<code>adb pair 对话框中的ip地址和端口</code>，回车后输入对话框中的配对码，即可配对成功。 <img src="'+p+'" alt="3"></p></li></ol><h3 id="使用adb-logcat查看输出日志" tabindex="-1"><a class="header-anchor" href="#使用adb-logcat查看输出日志"><span>使用adb logcat查看输出日志</span></a></h3><p>安卓应用如果允许调试（在<code>apk/AndroidManifest.xml</code>中，<code>application</code>标签加一条属性 <code>android:debuggable=&quot;true&quot;</code>），就可以使用logcat查看其运行时的输出日志，闪退时也会输出报错。</p><p>使用方法：termux中adb连接成功后，输入<code>adb logcat</code>即可查看全部应用的输出日志。注意pkg安装的android-tools也带一个logcat（也就是输入<code>logcat</code>），但那个只能查看termux自己的日志。</p><p>如果想只查看某个应用的日志，可以使用grep筛选，如<code>adb logcat | grep 该应用进程号</code>。应用的进程号如何查找呢？先启动应用，然后输入<code>adb shell ps | grep 包名</code>即可获取。包名就是apk的包名，各种文件管理器一般都可以查看。 （图中这一条有很多信息，第二个是进程号，由于我用了grep，把每列的题头给筛没了。。。） <img src="'+h+'" alt="4"></p><p>注意应用关闭后再启动，进程号会变化。</p><h2 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h2><ol><li>这种方法仅限安卓11及以上。</li><li>无线配对需要在开发者选项里开启，然而我的鸿蒙3目前还没有这个选项。</li><li>termux里无需安装完整linux，直接<code>pkg install android-tools</code>即可使用adb功能。</li><li>查看手机全部输出日志要用<code>adb logcat</code>而不是<code>logcat</code>。</li><li>应用只有在AndroidManifest.xml的application标签声明了属性<code>android:debuggable=&quot;true&quot;</code>时，才会在logcat中输出其日志。</li><li>只显示特定app的日志：<code>adb shell ps | grep 包名</code> 获取进程号，然后<code>adb logcat | grep 进程号</code></li></ol>',12);function N(q,T){const a=d("ExternalLinkIcon");return r(),n("div",null,[u,g,m,e("p",null,[e("a",_,[t("视频演示"),o(a)])]),x,e("p",null,[e("a",f,[t("官方文档"),o(a)])]),e("p",null,[e("a",k,[t("部分参考"),o(a)])]),v,e("p",null,[e("a",w,[t("termux下载地址(f-droid)"),o(a)]),t("，有关termux基本使用（换源等）请自行搜索。")]),B])}const A=l(b,[["render",N],["__file","index.html.vue"]]),E=JSON.parse('{"path":"/blogs/2022/winter/a11TermuxAdb/","title":"安卓11及以上无需电脑，借助termux连接adb无线配对","lang":"zh-CN","frontmatter":{"date":"2023-1-24 09:36:54","title":"安卓11及以上无需电脑，借助termux连接adb无线配对","categories":["调试"],"tags":["adb","wireless pair","termux"]},"headers":[{"level":2,"title":"介绍","slug":"介绍","link":"#介绍","children":[]},{"level":2,"title":"使用方法","slug":"使用方法","link":"#使用方法","children":[{"level":3,"title":"termux安装adb","slug":"termux安装adb","link":"#termux安装adb","children":[]},{"level":3,"title":"手机开启无线调试选项","slug":"手机开启无线调试选项","link":"#手机开启无线调试选项","children":[]},{"level":3,"title":"手机与termux中的adb无线配对","slug":"手机与termux中的adb无线配对","link":"#手机与termux中的adb无线配对","children":[]},{"level":3,"title":"使用adb logcat查看输出日志","slug":"使用adb-logcat查看输出日志","link":"#使用adb-logcat查看输出日志","children":[]}]},{"level":2,"title":"注意事项","slug":"注意事项","link":"#注意事项","children":[]}],"git":{"createdTime":1674531184000,"updatedTime":1674535208000,"contributors":[{"name":"ewt45","email":"79033456+ewt45@users.noreply.github.com","commits":2}]},"filePathRelative":"blogs/2022/winter/a11TermuxAdb/index.md"}');export{A as comp,E as data};
